<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Happy Birthday Aishani</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    }

    body {
      min-height: 100vh;
      background: radial-gradient(circle at top, #ffd1ff, #ff9a9e, #fecfef);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #222;
      overflow: hidden;
    }

    .app {
      width: 100%;
      max-width: 900px;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
      overflow: hidden;
      position: relative;
      transition: max-width 0.8s ease, padding 0.8s ease;
    }

    .app.expanded {
      max-width: 1100px;
      padding: 0;
    }

    .screen {
      padding: 30px 20px 25px;
      display: none;
      text-align: center;
      min-height: 420px;
      animation: fadeIn 0.6s ease;
      position: relative;
      transition: padding 0.8s ease;
    }

    .screen.active {
      display: block;
    }

    .screen.expanded {
      padding: 40px 30px;
      min-height: 500px;
    }

    h1, h2 {
      margin-bottom: 15px;
    }

    h1 {
      font-size: 2.4rem;
      color: #ff4b6e;
      letter-spacing: 1px;
    }

    h2 {
      font-size: 1.9rem;
      color: #ff4b6e;
    }

    p {
      margin-bottom: 12px;
      line-height: 1.5;
      font-size: 1rem;
    }

    .btn {
      display: inline-block;
      margin-top: 18px;
      padding: 10px 24px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, #ff4b6e, #ff9a9e);
      color: white;
      font-weight: 600;
      cursor: pointer;
      font-size: 1rem;
      box-shadow: 0 8px 18px rgba(255, 75, 110, 0.4);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 24px rgba(255, 75, 110, 0.55);
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: 0 6px 12px rgba(255, 75, 110, 0.45);
    }

    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .subtext {
      font-size: 0.9rem;
      color: #555;
      margin-top: 6px;
    }

    .highlight {
      color: #ff4b6e;
      font-weight: 600;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(12px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    #screen-countdown {
      background: radial-gradient(circle at top, #ff9a9e, #fecfef);
      color: #fff;
    }

    .countdown-circle {
      margin: 40px auto 10px;
      width: 180px;
      height: 180px;
      border-radius: 50%;
      border: 6px solid rgba(255, 255, 255, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      position: relative;
      overflow: hidden;
    }

    .countdown-number {
      font-size: 4rem;
      font-weight: 700;
      text-shadow: 0 4px 14px rgba(0, 0, 0, 0.4);
      animation: pulse 1s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      40% { transform: scale(1.15); }
    }

    .countdown-ring {
      position: absolute;
      inset: 0;
      border-radius: 50%;
      border: 6px solid rgba(255, 255, 255, 0.25);
      border-top-color: #fff;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .celebration-title {
      font-size: 2.6rem;
      margin-bottom: 6px;
      background: linear-gradient(120deg, #ff4b6e, #ff9a9e, #ffd1ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 6px 18px rgba(255, 75, 110, 0.6);
      letter-spacing: 1.5px;
      text-transform: uppercase;
    }

    .celebration-sub {
      margin-bottom: 18px;
      font-size: 1.05rem;
    }

    .celebration-wrap {
      position: relative;
      padding-top: 10px;
    }

    .balloon-float {
      position: absolute;
      width: 40px;
      height: 55px;
      border-radius: 50%;
      opacity: 0.7;
      animation: floatUp 10s linear infinite;
    }

    .balloon-float::after {
      content: "";
      position: absolute;
      left: 50%;
      bottom: -18px;
      width: 2px;
      height: 18px;
      background: rgba(0, 0, 0, 0.15);
      transform: translateX(-50%);
    }

    @keyframes floatUp {
      0% {
        transform: translateY(80px);
        opacity: 0;
      }
      10% {
        opacity: 0.8;
      }
      100% {
        transform: translateY(-420px);
        opacity: 0;
      }
    }

    .cake-area {
      margin-top: 40px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 14px;
      transition: gap 0.8s ease;
    }

    .cake-area.expanded {
      gap: 24px;
      margin-top: 50px;
    }

    .cake {
      width: 220px;
      height: 160px;
      position: relative;
      cursor: pointer;
      transition: transform 0.2s ease, filter 0.3s ease;
      user-select: none;
    }

    .cake:hover {
      transform: translateY(-4px);
      filter: drop-shadow(0 8px 20px rgba(255, 75, 110, 0.3));
    }

    .cake-base {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 80px;
      background: #ffb6c1;
      border-radius: 16px;
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }

    .cake.cut .cake-base {
      background: linear-gradient(90deg, #ffb6c1 0%, #ffb6c1 48%, #ff69b4 48%, #ff69b4 100%);
      transform: scaleX(0.95);
    }

    .cake-layer {
      position: absolute;
      bottom: 65px;
      left: 18px;
      width: 184px;
      height: 48px;
      background: #ffe4e1;
      border-radius: 16px 16px 12px 12px;
      transition: all 0.3s ease;
    }

    .cake.cut .cake-layer {
      background: linear-gradient(90deg, #ffe4e1 0%, #ffe4e1 48%, #ffb6d9 48%, #ffb6d9 100%);
      transform: scaleX(0.95);
    }

    .cake-cream {
      position: absolute;
      left: 10px;
      right: 10px;
      top: -16px;
      height: 20px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 0 #ffc0cb;
      transition: all 0.3s ease;
    }

    .cake.cut .cake-cream {
      background: #fffacd;
      box-shadow: 0 4px 0 #ffa500;
    }

    .candle {
      position: absolute;
      bottom: 120px;
      left: 50%;
      width: 12px;
      height: 44px;
      background: #fff8dc;
      border-radius: 5px;
      transform: translateX(-50%);
      transition: opacity 0.3s ease;
    }

    .cake.cut .candle {
      opacity: 0;
    }

    .candle::before {
      content: "";
      position: absolute;
      top: -18px;
      left: 50%;
      width: 20px;
      height: 20px;
      background: radial-gradient(circle at 30% 20%, #fff9c4, #ffb347, #ff5e62);
      border-radius: 50%;
      transform: translateX(-50%);
      animation: flicker 0.8s infinite alternate;
    }

    @keyframes flicker {
      from {
        transform: translateX(-50%) scale(1);
        opacity: 0.9;
      }
      to {
        transform: translateX(-50%) scale(1.15);
        opacity: 0.6;
      }
    }

    .cake-cut-label {
      font-size: 0.95rem;
      color: #555;
      transition: opacity 0.3s ease;
    }

    .cake-cut-label.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .cake-cut-msg {
      font-size: 1rem;
      color: #ff4b6e;
      font-weight: 600;
      opacity: 0;
      animation: slideInUp 0.6s ease forwards;
    }

    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .photo-row {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 10px;
      flex-wrap: wrap;
      transition: all 0.8s ease;
    }

    .photo-row.expanded {
      gap: 20px;
      margin-top: 20px;
      flex-direction: row;
    }

    .photo-card {
      width: 90px;
      height: 90px;
      border-radius: 12px;
      overflow: hidden;
      background: #eee;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }

    .photo-card:hover {
      transform: scale(1.08) translateY(-4px);
      box-shadow: 0 8px 20px rgba(255, 75, 110, 0.3);
    }

    .photo-card.expanded {
      width: 140px;
      height: 140px;
      border-radius: 16px;
    }

    .photo-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      transition: transform 0.3s ease;
    }

    .photo-card:hover img {
      transform: scale(1.05);
    }

    .celebration-timer {
      margin-top: 16px;
      font-size: 0.95rem;
      color: #ff4b6e;
      font-weight: 600;
      transition: all 0.5s ease;
    }

    .celebration-timer.completed {
      font-size: 1.15rem;
      color: #28a745;
    }

    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      pointer-events: none;
      animation: confettiFall 2.5s ease-in forwards;
    }

    @keyframes confettiFall {
      0% {
        transform: translate(0, 0) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translate(var(--tx), var(--ty)) rotate(360deg);
        opacity: 0;
      }
    }

    .photo-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.85);
      z-index: 9999;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease;
    }

    .photo-modal.active {
      display: flex;
    }

    .photo-modal img {
      max-width: 90%;
      max-height: 90%;
      border-radius: 12px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
      animation: zoomIn 0.3s ease;
    }

    @keyframes zoomIn {
      from {
        transform: scale(0.8);
        opacity: 0;
      }
      to {
        transform: scale(1);
        opacity: 1;
      }
    }

    .photo-modal-close {
      position: absolute;
      top: 20px;
      right: 30px;
      font-size: 2rem;
      color: white;
      cursor: pointer;
      transition: transform 0.2s ease;
      z-index: 10000;
    }

    .photo-modal-close:hover {
      transform: scale(1.2);
    }

    .quiz-container {
      text-align: left;
      max-width: 650px;
      margin: 0 auto;
    }

    .question-count {
      font-size: 0.9rem;
      color: #777;
      margin-bottom: 10px;
    }

    .question-text {
      font-size: 1.1rem;
      margin-bottom: 16px;
      font-weight: 600;
    }

    .options {
      list-style: none;
      margin-bottom: 12px;
    }

    .options li {
      margin-bottom: 8px;
    }

    .option-btn {
      width: 100%;
      text-align: left;
      border-radius: 999px;
      border: 2px solid #ffd1e0;
      padding: 9px 14px;
      background: white;
      cursor: pointer;
      transition: background 0.2s, border-color 0.2s, transform 0.1s;
      font-size: 0.98rem;
    }

    .option-btn:hover {
      background: #fff3f7;
      transform: translateY(-1px);
    }

    .option-btn.correct {
      background: #d0ffd8;
      border-color: #28a745;
    }

    .option-btn.wrong {
      background: #ffd0d0;
      border-color: #dc3545;
    }

    .option-btn:disabled {
      cursor: not-allowed;
      opacity: 0.7;
    }

    .quiz-footer {
      margin-top: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      row-gap: 8px;
    }

    .quiz-status {
      font-size: 0.9rem;
      color: #555;
    }

    .pin-input {
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid #ffb6c1;
      font-size: 1rem;
      width: 130px;
      text-align: center;
      outline: none;
      margin-top: 6px;
    }

    .pin-input:focus {
      border-color: #ff4b6e;
    }

    .error-text {
      color: #dc3545;
      margin-top: 8px;
      font-size: 0.9rem;
    }

    .hidden {
      display: none !important;
    }

    .card {
      margin: 16px auto 0;
      max-width: 650px;
      padding: 18px 16px 20px;
      border-radius: 18px;
      background: linear-gradient(135deg, #fff7fb, #ffe6f1);
      border: 1px solid #ffd1e0;
      box-shadow: 0 10px 20px rgba(255, 75, 110, 0.18);
      text-align: left;
      line-height: 1.6;
      font-size: 0.98rem;
      max-height: 400px;
      overflow-y: auto;
    }

    .card::-webkit-scrollbar {
      width: 8px;
    }

    .card::-webkit-scrollbar-track {
      background: rgba(255, 75, 110, 0.1);
      border-radius: 10px;
    }

    .card::-webkit-scrollbar-thumb {
      background: #ff4b6e;
      border-radius: 10px;
      cursor: pointer;
    }

    .card::-webkit-scrollbar-thumb:hover {
      background: #ff2d4a;
    }

    .card-title {
      font-weight: 700;
      margin-bottom: 6px;
      color: #ff4b6e;
      font-size: 1.1rem;
    }

    .card-body {
      white-space: pre-line;
    }

    .slideshow {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 8888;
      margin: 0;
      border-radius: 0;
      overflow: hidden;
      box-shadow: none;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .slide {
      position: absolute;
      inset: 0;
      opacity: 0;
      transform: scale(1.06);
      transition: opacity 1s ease, transform 1s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .slide img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
      max-width: 100%;
      max-height: 100%;
    }

    .slide.active {
      opacity: 1;
      transform: scale(1);
    }

    .slide-caption {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 10px 16px 14px;
      background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
      color: #fff;
      font-size: 0.95rem;
      text-align: left;
    }

    .slideshow-dots {
      margin-top: 10px;
      text-align: center;
    }

    .dot {
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      margin: 0 3px;
      background: #ffd1e0;
      opacity: 0.5;
    }

    .dot.active {
      opacity: 1;
      background: #ff4b6e;
      transform: scale(1.2);
    }

    .ending-heart {
      font-size: 2.4rem;
      margin-top: 10px;
      animation: beat 1s infinite;
      color: #ff4b6e;
    }

    @keyframes beat {
      0%, 100% {
        transform: scale(1);
      }
      30% {
        transform: scale(1.2);
      }
    }

    @media (max-width: 600px) {
      .screen {
        padding: 22px 16px 20px;
      }
      h1 {
        font-size: 2rem;
      }
      .celebration-title {
        font-size: 2.2rem;
      }
      .cake {
        width: 190px;
        height: 140px;
      }
      .photo-card.expanded {
        width: 120px;
        height: 120px;
      }
    }
  </style>
</head>
<body>
  <audio id="birthday-song" loop preload="auto">
    <source src="birthdaysong.mp3" type="audio/mpeg" />
    
  </audio>

  <audio id="slideshow-song" loop>
    <source src="perfect.mp3" type="audio/mpeg" />
  </audio>

  <div class="photo-modal" id="photoModal">
    <span class="photo-modal-close" onclick="closePhotoModal()">&times;</span>
    <img id="photoModalImg" src="" alt="" />
  </div>

  <div class="app" id="app">
    <section id="screen-countdown" class="screen active">
      <h1>Ready, Aishani?</h1>
      <p>Thoda sa magic start hone wala hai...</p>
      <div class="countdown-circle">
        <div class="countdown-number" id="countdown-number">10</div>
        <div class="countdown-ring"></div>
      </div>
      <p class="subtext">Just sit back and enjoy. üé¨</p>
    </section>

    <section id="screen-celebration" class="screen">
      <h2 class="celebration-title">Happy Birthday, Aishani</h2>
      <p class="celebration-sub">
        Tumhari life ke teen chhote chapters, ek hi cake ke saath.
      </p>

      <div class="celebration-wrap">
        <div class="balloon-float" style="left:5%; background:#ff9a9e; animation-delay:0s;"></div>
        <div class="balloon-float" style="left:20%; background:#ffecd2; animation-delay:2s;"></div>
        <div class="balloon-float" style="left:40%; background:#fcb69f; animation-delay:4s;"></div>
        <div class="balloon-float" style="left:65%; background:#ffdde1; animation-delay:1s;"></div>
        <div class="balloon-float" style="left:85%; background:#cfd9ff; animation-delay:3s;"></div>

        <div class="cake-area" id="cakeArea">
          <div class="cake" id="cake">
            <div class="cake-base"></div>
            <div class="cake-layer">
              <div class="cake-cream"></div>
            </div>
            <div class="candle"></div>
          </div>
          <div class="cake-cut-label" id="cakeCutLabel">
            Mouse se cake par click / drag karke <span class="highlight">cut</span> karna. ‚úÇÔ∏èüéÇ
          </div>
          <div id="cakeCutMsg" class="cake-cut-msg"></div>
          <div class="photo-row" id="photoRow">
            <div class="photo-card" onclick="openPhotoModal('imgchildhood.jpg')">
              <img src="imgchildhood.jpg" alt="Childhood" />
            </div>
            <div class="photo-card" onclick="openPhotoModal('imgbeforeme.jpg')">
              <img src="imgbeforeme.jpg" alt="Before we met" />
            </div>
            <div class="photo-card" onclick="openPhotoModal('imgafterme.jpg')">
              <img src="imgafterme.jpg" alt="After we met" />
            </div>
          </div>
          <div class="celebration-timer" id="celebration-timer">
            Celebration ends in 30 seconds...
          </div>
        </div>
      </div>
      <p class="subtext">
        Balloons, cake, tumhari kahani, aur background me birthday song. üéÇüéµ
      </p>
    </section>

    <section id="screen-pin-quiz" class="screen">
      <h2>Quiz Time, Dhundhun ‚ú®</h2>
      <p>
        Ab ek chhota sa quiz hoga jisme tumko
        <span class="highlight">7</span> correct answers dene hain.
      </p>
      <p>Unhe unlockne ke liye PIN daalo: <span class="highlight">4 digits</span>.</p>

      <input
        type="password"
        maxlength="4"
        class="pin-input"
        id="pin-input-quiz"
        placeholder="Enter PIN"
      />
      <div id="pin-error-quiz" class="error-text hidden">
        Galat PIN hai dhundhun, ek baar aur try karo üíó
      </div>
      <br />
      <button class="btn" onclick="checkPinQuiz()">Start Quiz ‚ûú</button>
    </section>

    <section id="screen-quiz" class="screen">
      <h2>Birthday Quiz üéØ</h2>
      <div class="quiz-container">
        <div class="question-count" id="question-count"></div>
        <div class="question-text" id="question-text"></div>
        <ul class="options" id="options-list"></ul>

        <div class="quiz-footer">
          <div class="quiz-status" id="quiz-status"></div>
          <button class="btn" id="next-question-btn" onclick="handleNextQuestion()">Next</button>
        </div>
      </div>
      <p class="subtext">7 correct answers ke baad agla surprise unlock hoga!</p>
    </section>

    <section id="screen-slideshow" class="screen" style="padding: 0; min-height: 100vh;">
      <div class="slideshow" id="slideshow">
        <div class="slide active">
          <img src="imgg1.jpg" alt="Memory 1" />
          <div class="slide-caption">1 / 7</div>
        </div>
        <div class="slide">
          <img src="imgg2.jpg" alt="Memory 2" />
          <div class="slide-caption">2 / 7</div>
        </div>
        <div class="slide">
          <img src="imgg3.jpg" alt="Memory 3" />
          <div class="slide-caption">3 / 7</div>
        </div>
        <div class="slide">
          <img src="imgg4.jpg" alt="Memory 4" />
          <div class="slide-caption">4 / 7</div>
        </div>
        <div class="slide">
          <img src="imgg5.jpg" alt="Memory 5" />
          <div class="slide-caption">5 / 7</div>
        </div>
        <div class="slide">
          <img src="imgg6.jpg" alt="Memory 6" />
          <div class="slide-caption">6 / 7</div>
        </div>
        <div class="slide">
          <img src="imgg7.jpg" alt="Memory 7" />
          <div class="slide-caption">7 / 7</div>
        </div>
      </div>
      <div class="slideshow-dots" id="slideshow-dots" style="position: fixed; bottom: 60px; left: 50%; transform: translateX(-50%); z-index: 8889;"></div>

      <button class="btn" style="margin-top:16px; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); z-index: 8889;" onclick="goToLetterPin()">Next ‚ûú</button>
    </section>

    <section id="screen-pin-letter" class="screen">
      <h2>Your letter, only for you üíå</h2>
      <p>Ab jo likha hai woh sirf tumhare liye hai, isliye PIN daalo.</p>
      <p>Same PIN: <span class="highlight">0624</span>.</p>

      <input
        type="password"
        maxlength="4"
        class="pin-input"
        id="pin-input-letter"
        placeholder="Enter PIN"
      />
      <div id="pin-error-letter" class="error-text hidden">
        Galat PIN hai dhundhun, ek baar aur try karo üíó
      </div>
      <br />
      <button class="btn" onclick="checkPinLetter()">Open Letter ‚ûú</button>
    </section>

    <section id="screen-letter" class="screen">
      <h2>My letter to you ‚úçÔ∏è</h2>
      <div class="card">
        <div class="card-title">Dear Aishani,</div>
        <div class="card-body" id="card-text">
          Happpyyyyy birthdayyyyu DHUNDHUN ‚ù§Ô∏èüßøü´Çüéâüéâüéâüéâ‚ú®‚ú®
Hello Aishani..‚ù§Ô∏è
Time itna ni h baby bolne k liyeee baaki mil ke baat krnge 
Sbsre phle Happpyy bdaayyy meri miss mature DHUNDHUN baby mommy
I love you soooo muchhh 
Sorry baby tumko aaj tk jitna baar v rulaye ho but aisha tumse hi sbse zyada pyaar kiye hai yr letter hum aise hi ek random din likh rhe jis din tum or anna poison game khl rhe the 
Aisha tumko lgta hoga ki hmko maza aata h tumko waisa rota dkh but aisa ni h aishani scchi kv ni chahte tum waise ro 
Lekin hmko sch me gussa aata kyuki tum meri ho or hum aise reh hi ni skte tumse dur 
Lekin bss tumse itna zyada pyaar ho gya h ki reh le rhe kaise v 
Or baby isliye tumse milne v aate h bss pls hmesha mere saath rhna aisha 
Har ek baat btana chota sa v kuch v hua ho 
Aaj bday h baby faaltu baat ni krnge 
Acche se enjoy kro or merr ko party v dedo ilu so muchh 
Baby wo sb cheez tum kro bss wgera hmko usse koi dikkat ni h but sch btate jb tum bolti n ki aaj aisa bole bhaiya waisa bole to hmko chubhta h ki sala meri hoke wo log se itna baat itna paas wo log k isliye waise react kr dete 
Work kr rhe aisha ilu
Or baby tum pdhai v kro tumko pta h tum hmko boli ho ki hum bss apna faida dkh rhe ki meri family ko ek aisi ldki mile jo kaam kre or bank m accha kaam kre 
Literally bohot bura lga hai 
Tum zyada ni sochna bss
Enjoy kro mil k baat krnge sara text h mere paas utna hum v ni sochte hai 
Happy bdaayy fir see jaaan
I love you so much DHUNDHUN ü©µü•∫üëÑüíã‚ù§Ô∏è.
        </div>
      </div>
      <button class="btn" style="margin-top:16px;" onclick="goToEnding()">Last Page ‚ûú</button>
    </section>

    <section id="screen-ending" class="screen">
      <h2>Thank you, Dhundhun üíñ</h2>
      <p>
        Hello Aishani, hope so tumko ye gift accha laga hoga.  
        Mere ko coding nahi aata hai, bohot dimaag lagake banaya hai AI ki help leke,
        isliye agar accha nahi laga hoga to bolna mat. üôÇ
      </p>
      <p>
        I love you so much.  
        Tum hi ho sabse special part meri life ka.
      </p>
      <div class="ending-heart">‚ô•</div>
    </section>
  </div>

  <script>
    const screens = [
      "screen-countdown",
      "screen-celebration",
      "screen-pin-quiz",
      "screen-quiz",
      "screen-slideshow",
      "screen-pin-letter",
      "screen-letter",
      "screen-ending"
    ];

    function showScreen(id) {
      screens.forEach((sid) => {
        const el = document.getElementById(sid);
        if (el) el.classList.toggle("active", sid === id);
      });
    }

    const countdownNumberEl = document.getElementById("countdown-number");
    let countdownValue = 10;
    let countdownInterval = setInterval(() => {
      countdownValue--;
      if (countdownValue <= 0) {
        clearInterval(countdownInterval);
        showScreen("screen-celebration");
        startCelebration();
      }
      countdownNumberEl.textContent = countdownValue;
    }, 1000);

    const birthdaySong = document.getElementById("birthday-song");
    const celebrationTimerEl = document.getElementById("celebration-timer");
    const cakeEl = document.getElementById("cake");
    const cakeCutLabelEl = document.getElementById("cakeCutLabel");
    const cakeCutMsgEl = document.getElementById("cakeCutMsg");
    const photoRowEl = document.getElementById("photoRow");
    const cakeAreaEl = document.getElementById("cakeArea");
    const appEl = document.getElementById("app");
    const screenCelebrationEl = document.getElementById("screen-celebration");

    let celebrationRemaining = 30;
    let celebrationInterval = null;
    let cakeIsCut = false;
    let isDraggingOnCake = false;

    cakeEl.addEventListener("click", (e) => {
      if (!cakeIsCut) handleCakeCut(e);
    });

    cakeEl.addEventListener("mousedown", () => {
      isDraggingOnCake = true;
      cakeEl.style.cursor = "grabbing";
    });

    cakeEl.addEventListener("mousemove", (e) => {
      if (isDraggingOnCake && !cakeIsCut) handleCakeCut(e);
    });

    document.addEventListener("mouseup", () => {
      isDraggingOnCake = false;
      if (cakeEl) cakeEl.style.cursor = "pointer";
    });

    function handleCakeCut(e) {
      if (cakeIsCut) return;
      
      cakeIsCut = true;
      cakeEl.classList.add("cut");
      cakeCutLabelEl.classList.add("hidden");
      cakeCutMsgEl.textContent = "üéâ Cake is cut! Balloons & memories unlocked! üéâ";
      cakeCutMsgEl.style.opacity = "1";
      showConfetti(e.clientX, e.clientY);
      expandPhotosAndFrame();
      
      if (celebrationInterval) clearInterval(celebrationInterval);
      celebrationRemaining = 10;
      celebrationTimerEl.textContent = "Celebration ends in " + celebrationRemaining + " seconds...";
      
      celebrationInterval = setInterval(() => {
        celebrationRemaining--;
        if (celebrationRemaining <= 0) {
          clearInterval(celebrationInterval);
          celebrationTimerEl.textContent = "Celebration complete! üéâ";
          celebrationTimerEl.classList.add("completed");
          if (birthdaySong) {
            birthdaySong.pause();
            birthdaySong.currentTime = 0;
          }
          setTimeout(() => {
            showScreen("screen-pin-quiz");
          }, 1500);
        } else {
          celebrationTimerEl.textContent = "Celebration ends in " + celebrationRemaining + " seconds...";
        }
      }, 1000);
    }

    function showConfetti(x, y) {
      for (let i = 0; i < 20; i++) {
        const confetti = document.createElement("div");
        confetti.className = "confetti";
        const colors = ["#ff4b6e", "#ff9a9e", "#ffd1ff", "#ffecd2", "#fcb69f"];
        confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
        const tx = (Math.random() - 0.5) * 200;
        const ty = -(Math.random() * 300 + 100);
        confetti.style.setProperty("--tx", tx + "px");
        confetti.style.setProperty("--ty", ty + "px");
        confetti.style.left = x + "px";
        confetti.style.top = y + "px";
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 2500);
      }
    }

    function expandPhotosAndFrame() {
      appEl.classList.add("expanded");
      screenCelebrationEl.classList.add("expanded");
      const photoCards = photoRowEl.querySelectorAll(".photo-card");
      photoRowEl.classList.add("expanded");
      photoCards.forEach(card => {
        card.classList.add("expanded");
      });
      cakeAreaEl.classList.add("expanded");
    }

    function startCelebration() {
      celebrationRemaining = 30;
      celebrationTimerEl.textContent = "Celebration ends in " + celebrationRemaining + " seconds...";

      setTimeout(() => {
        if (birthdaySong) {
          birthdaySong.currentTime = 0;
          birthdaySong.volume = 0.3;
          birthdaySong.play().then(() => {
            console.log("birthday song playing");
            birthdaySong.volumme = 0.6;
          });.catch((e) => {
            console.log("song failed", e);});
      }

      if (celebrationInterval) clearInterval(celebrationInterval);

      celebrationInterval = setInterval(() => {
        celebrationRemaining--;
        if (celebrationRemaining <= 0) {
          clearInterval(celebrationInterval);
          celebrationTimerEl.textContent = "Celebration complete! üéâ";
          celebrationTimerEl.classList.add("completed");
          if (birthdaySong) {
            birthdaySong.pause();
            birthdaySong.currentTime = 0;
          }
          setTimeout(() => {
            showScreen("screen-pin-quiz");
          }, 1500);
        } else {
          celebrationTimerEl.textContent = "Celebration ends in " + celebrationRemaining + " seconds...";
        }
      }, 1000);
    }

    function openPhotoModal(src) {
      const modal = document.getElementById("photoModal");
      const img = document.getElementById("photoModalImg");
      img.src = src;
      modal.classList.add("active");
    }

    function closePhotoModal() {
      const modal = document.getElementById("photoModal");
      modal.classList.remove("active");
    }

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closePhotoModal();
    });

    const questions = [
      { text: "Q1. PEHLI MULAKAAT?", options: ["22 JUNE 2022", "25 JUNE 2022", "2010 DHURWA KE EK PARTY ME", "9TH SEPTEMBER 2022"], correctIndex: 2 },
      { text: "Q2. PEHLI BAAR BAAT KAB HUI THI HAMAARI?", options: ["5TH SEP 2022", "8TH SEP 2022", "9TH SEP 2022", "10TH SEP 2022"], correctIndex: 1 },
      { text: "Q3. PEHLI DATE KAHA THI?", options: ["CSB", "LEVE 7", "EYELEX", "MYSA"], correctIndex: 3 },
      { text: "Q4. PEHLI SOLO DATE?", options: ["10TH JULY 2024", "9TH JULY 2024", "8TH JULY 2024", "7TH JULY 2024"], correctIndex: 1 },
      { text: "Q5. MERE KO SABSE ZYADA KYA PASAND HAI?", options: ["KHEER", "CHICKEN", "POM POM", "CARS"], correctIndex: 2 },
      { text: "Q6. HUMLOK SBSE PHLI BAAR KAHA GHUMN K PLAN BNAYE HAI?", options: ["MUMBBAI", "KASHMIR", "SWITZERLAND", "MALDIVES"], correctIndex: 1 },
      { text: "Q7. WHAT WAS THE 1ST PET NAME GIVEN BY ME?", options: ["DHUNDHUN", "BABY", "JAAN", "MISS MATURE"], correctIndex: 3 },
      { text: "Q8. 1ST KISS KAHA HUA THA?", options: ["EYELEX", "LEVEL 7", "MYSA", "BBSR"], correctIndex: 2 },
      { text: "Q9. SABSE PEHLA TEXT MESSAGE?", options: ["25TH OCT 2022", "26TH OCT 2022", "24TH OCT 2022", "28TH OCT 2022"], correctIndex: 1 },
      { text: "Q10. SHAADI KROGI MUJHSE?", options: ["HAA", "YES", "HAA TOHRE SE KAREM", "ALL OF THE ABOVE"], correctIndex: 3 }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    let selectedOptionIndex = null;

    const questionCountEl = document.getElementById("question-count");
    const questionTextEl = document.getElementById("question-text");
    const optionsListEl = document.getElementById("options-list");
    const quizStatusEl = document.getElementById("quiz-status");
    const nextQuestionBtn = document.getElementById("next-question-btn");

    const PIN = "0624";
    const pinInputQuiz = document.getElementById("pin-input-quiz");
    const pinErrorQuiz = document.getElementById("pin-error-quiz");

    function checkPinQuiz() {
      const value = pinInputQuiz.value.trim();
      if (value === PIN) {
        pinErrorQuiz.classList.add("hidden");
        startQuiz();
      } else {
        pinErrorQuiz.classList.remove("hidden");
        pinInputQuiz.value = "";
        pinInputQuiz.focus();
      }
    }

    function startQuiz() {
      currentQuestionIndex = 0;
      score = 0;
      selectedOptionIndex = null;
      showScreen("screen-quiz");
      renderQuestion();
    }

    function renderQuestion() {
      const q = questions[currentQuestionIndex];
      questionCountEl.textContent = "Question " + (currentQuestionIndex + 1) + " of " + questions.length;
      questionTextEl.textContent = q.text;
      optionsListEl.innerHTML = "";
      selectedOptionIndex = null;
      quizStatusEl.textContent = "Correct answers so far: " + score + " / 7 needed";

      q.options.forEach((opt, index) => {
        const li = document.createElement("li");
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.textContent = opt;
        btn.onclick = () => selectOption(index);
        li.appendChild(btn);
        optionsListEl.appendChild(li);
      });

      nextQuestionBtn.textContent = currentQuestionIndex === questions.length - 1 ? "Finish" : "Next";
      nextQuestionBtn.disabled = true;
      nextQuestionBtn.style.opacity = 0.7;
    }

    function selectOption(index) {
      const q = questions[currentQuestionIndex];
      const buttons = optionsListEl.querySelectorAll(".option-btn");
      buttons.forEach((btn) => {
        btn.disabled = true;
      });

      selectedOptionIndex = index;
      const selectedBtn = buttons[index];
      if (index === q.correctIndex) {
        selectedBtn.classList.add("correct");
        if (score < 7) score++;
      } else {
        selectedBtn.classList.add("wrong");
        const correctBtn = buttons[q.correctIndex];
        correctBtn.classList.add("correct");
      }

      quizStatusEl.textContent = "Correct answers so far: " + score + " / 7 needed";
      nextQuestionBtn.disabled = false;
      nextQuestionBtn.style.opacity = 1;
    }

    function handleNextQuestion() {
      if (selectedOptionIndex === null) return;

      currentQuestionIndex++;
      if (currentQuestionIndex < questions.length) {
        renderQuestion();
      } else {
        if (score >= 7) {
          showScreen("screen-slideshow");
          startSlideshowSong();
        } else {
          alert("Tumne " + score + " sahi answers diye. 7 chahiye the, ek aur baar try karte hain? üí™");
          startQuiz();
        }
      }
    }

    const slideshowSong = document.getElementById("slideshow-song");
    const slides = Array.from(document.querySelectorAll(".slide"));
    const dotsContainer = document.getElementById("slideshow-dots");
    let currentSlideIndex = 0;
    let slideshowInterval = null;

    function initSlideshow() {
      slides.forEach((_, i) => {
        const dot = document.createElement("span");
        dot.className = "dot" + (i === 0 ? " active" : "");
        dotsContainer.appendChild(dot);
      });
    }

    function startSlideshowSong() {
      if (slideshowSong) {
        slideshowSong.currentTime = 0;
        slideshowSong.volume = 0.6;
        slideshowSong.play().catch(() => {});
      }
      startSlideshow();
    }

    function startSlideshow() {
      if (slideshowInterval) clearInterval(slideshowInterval);
      slideshowInterval = setInterval(nextSlide, 3500);
    }

    function nextSlide() {
      goToSlide((currentSlideIndex + 1) % slides.length);
    }

    function goToSlide(index) {
      slides[currentSlideIndex].classList.remove("active");
      const dots = dotsContainer.querySelectorAll(".dot");
      dots[currentSlideIndex].classList.remove("active");

      currentSlideIndex = index;
      slides[currentSlideIndex].classList.add("active");
      dots[currentSlideIndex].classList.add("active");

      if (slideshowInterval) {
        clearInterval(slideshowInterval);
        slideshowInterval = setInterval(nextSlide, 3500);
      }
    }

    function goToLetterPin() {
      if (slideshowSong) {
        slideshowSong.pause();
        slideshowSong.currentTime = 0;
      }
      if (slideshowInterval) clearInterval(slideshowInterval);
      showScreen("screen-pin-letter");
    }

    const pinInputLetter = document.getElementById("pin-input-letter");
    const pinErrorLetter = document.getElementById("pin-error-letter");

    function checkPinLetter() {
      const value = pinInputLetter.value.trim();
      if (value === PIN) {
        pinErrorLetter.classList.add("hidden");
        showScreen("screen-letter");
      } else {
        pinErrorLetter.classList.remove("hidden");
        pinInputLetter.value = "";
        pinInputLetter.focus();
      }
    }

    function goToEnding() {
      showScreen("screen-ending");
    }

    window.addEventListener("load", () => {
      initSlideshow();
      pinInputQuiz.addEventListener("keypress", (e) => {
        if (e.key === "Enter") checkPinQuiz();
      });
      pinInputLetter.addEventListener("keypress", (e) => {
        if (e.key === "Enter") checkPinLetter();
      });
    });
  </script>
</body>
</html>
